## 观察者模式

#### 被观察者
```js
class Whatcher{
  constructor(){
    this.state=0;
    this.observers=[];
  }
  setState(state){
    this.state=state;
    this.notify();
  }
  attach(observe){
    this.observers.push(observe)
  }
  notify(){
    this.observers.forEach(observe => {
      observe.update()
  })
  }
}
```
#### 观察者
```js
class Observe{
  constructor(name,whatecher){
    this.name=name;
    this.whatecher=whatecher;
    this.whatecher.attach(this)
  }
  update(){
    console.log('被观察者状态改变')
  }
}
```
```js
let w=new Whatcher()
let o=new Observe('1',w)
w.setState(2) //被观察者状态改变
```